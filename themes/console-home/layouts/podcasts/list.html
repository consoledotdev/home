{{ define "main" }}
	{{ $CTATitle := "Subscribe to the weekly Console newsletter" }}
	{{ $CTADescription := "Our free weekly newsletter features the latest interesting tools." }}

    <section class="page-section page-section-feature-root opening">
        <h2 class="title rich-title title-1">{{ partial "icons/podcast.html"}}<span>{{ .Title }}</span></h2>
        <div class="section-body">
            <div class="left">
                <p class="description">
                    Interviews with interesting people in the devtools space.
                </p>
                <p>
                    From security to dev focused infrastructure, and from homomorphic encryption to privacy and decentralization, we discuss the technical details around devtools.
                </p>
            </div>
            <div class="right">
                <div class="framed-section mid framed-section-overlay podcast-links-container">
                    {{ partial "components/podcast-links.html" (dict "apple" "true" "spotify" "true" "google" "true" "overcast" "true" "title" "Listen & subscribe") }}
                </div>
            </div>
        </div>
    </section>
    <section class="page-section page-section-feature-root featured">
        {{ $featured := index (where .Pages.ByPublishDate.Reverse "Params.season" 2) 0 }}
        {{ $s := $featured.Params.season }}
        {{ $e := $featured.Params.episode }}
        <h5 class="title title-4">
            <span>Latest Episode</span> <span>/ S{{ if lt $s 10 }}0{{ end }}{{ $s }} E{{ if lt $e 10 }}0{{ end }}{{ $e }} â€” {{ $featured.Date.Format "2006-01-02" }}</span>
        </h5>
        {{ partial "components/podcasts/combo-card.html" (dict "visualsType" "logo-profile" "content" $featured) }}
    </section>
	<div class="feature-split" data-feature-split>
		<aside data-aside-wrapper class="feature-aside">
			<div class="feature-aside-content" data-aside-content-wrapper></div>
		</aside>
		<div class="feature-content-wrapper">
			<section class="page-section" data-feature-items-section="season-2">
				<div class="page-section-heading">
                    <h3 class="title title-2"><span data-feature-section-name>Season 2</span></h3>
				</div>
                <div class="page-section-sub aside" data-inline-aside-content-wrapper>
                    <div data-aside-content>
                        <div class="aside-block">
                            <div class="podcast-embed-content">
                                <div data-podcast-player-wrapper class="podcast-embed-player">
                                    <audio data-podcast-player style="display: none;" preload="none" src="{{ $.Params.S02Trailer }}"></audio>
                                    <div class="podcast-embed-player-top">
                                        <button data-play onclick="blur();" class="console-button-text play" aria-label="Play">{{ partial "icons/play.html" }}</button>
                                        <button data-pause onclick="blur();" class="console-button-text pause" aria-label="Pause">{{ partial "icons/pause.html" }}</button>
                                        <h6 class="title title-5" title="Listen to S02 trailer">Listen to S02 trailer</h5>
                                    </div>
                                    <div data-progress class="player-progress"><span class="bg"></span><span data-elapsed class="elapsed" style="width: 0%"></span></div>
                                </div>
                            </div>
                        </div>
                        <div class="aside-block">
                            <div class="page-section-heading">
                                <h5 class="title title-4"><span data-feature-section-name>The host</span></h5>
                            </div>
                            <div class="person-profile">
                                {{ partial "components/plane-picture.html" (dict "type" "by-width" "img" "/img/david.jpg" "imgSize" "128" "alt" "Photo of David Mytton" ) }}
                                <a href="#author" class="link" title="About David Mytton">David Mytton</a>
                            </div>
                        </div>
                        <div class="aside-block guests">
                            <div class="page-section-heading">
                                <h5 class="title title-4"><span data-feature-section-name>Guests</span></h5>
                            </div>
                            <div class="person-profiles">
                                {{ range (where .Pages.ByPublishDate.Reverse "Params.season" 2) }}
                                    <div class="person-profile">
                                        {{ partial "components/plane-picture.html" (dict "type" "by-width" "img" .Params.topImg1Src "imgSize" "128" "alt" (print "Photo of " .Params.who) ) }}
                                        <span>{{ .Params.who }}</span>
                                    </div>
                                {{ end }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page-section-sub">
                    <div class="page-section-heading">
                        <h5 class="title title-4"><span data-feature-section-name>Other episodes</span></h5>
                    </div>
                    <div class="feature-items" data-feature-items>
                        {{ range after 1 (where .Pages.ByPublishDate.Reverse "Params.season" 2) }}
                            {{ partial "components/podcasts/combo-card.html" (dict "visualsType" "logo-profile" "content" .) }}
                        {{ end }}
                    </div>
                </div>
			</section>
		</div>
	</div>
	<div class="feature-split" data-feature-split>
		<aside data-aside-wrapper class="feature-aside">
			<div class="feature-aside-content" data-aside-content-wrapper></div>
		</aside>
		<div class="feature-content-wrapper" data-aside-anchor data-feature-content-wrapper>
			<section class="page-section" data-feature-items-section="season-2">
				<div class="page-section-heading">
                    <h3 class="title title-2"><span data-feature-section-name>Season 1</span></h3>
				</div>
                <div class="page-section-sub aside" data-inline-aside-content-wrapper>
                    <div data-aside-content>
                        <div class="aside-block">
                            <div class="podcast-embed-content">
                                <div data-podcast-player-wrapper class="podcast-embed-player">
                                    <audio data-podcast-player style="display: none;" preload="none" src="{{ $.Params.S01Trailer }}"></audio>
                                    <div class="podcast-embed-player-top">
                                        <button data-play onclick="blur();" class="console-button-text play" aria-label="Play">{{ partial "icons/play.html" }}</button>
                                        <button data-pause onclick="blur();" class="console-button-text pause" aria-label="Pause">{{ partial "icons/pause.html" }}</button>
                                        <h6 class="title title-5" title="Listen to S01 trailer">Listen to S01 trailer</h5>
                                    </div>
                                    <div data-progress class="player-progress"><span class="bg"></span><span data-elapsed class="elapsed" style="width: 0%"></span></div>
                                </div>
                            </div>
                        </div>
                        <div class="aside-block">
                            <div class="page-section-heading">
                                <h5 class="title title-4"><span data-feature-section-name>With</span></h5>
                            </div>
                            <div class="person-profiles">
                                <div class="person-profile">
                                    {{ partial "components/plane-picture.html" (dict "type" "by-width" "img" "/img/david.jpg" "imgSize" "128" "alt" "Photo of David Mytton" ) }}
                                    <a href="#author" class="link" title="About David Mytton">David Mytton</a>
                                </div>
                                <div class="person-profile">
                                    {{ partial "components/plane-picture.html" (dict "type" "by-width" "img" "/img/podcasts/akita-jean-yang-profile.jpg" "imgSize" "128" "alt" "Photo of Jean Yang" ) }}
                                    <a href="https://twitter.com/jeanqasaur" target="_blank" class="link icon-link" title="https://twitter.com/jeanqasaur"><span>Jean Yang</span> {{ partial "icons/external-link.html" }}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page-section-sub">
                    <div class="feature-items" data-feature-items>
                        {{ range (where .Pages.ByPublishDate.Reverse "Params.season" 1) }}
                            {{ partial "components/podcasts/combo-card.html" (dict "visualsType" "logo-logo" "content" .) }}
                        {{ end }}
                    </div>
                </div>
			</section>
		</div>
	</div>
	<section class="page-section page-section-feature-root">
        <div name="author">{{ partial "components/author.html" (dict "context" . "bio" .Params.authorBio "img" .Params.authorImg "name" .Params.authorName ) }}</div>
        {{ partial "components/about-console.html" }}
		{{ partial "subscribe.html" (dict "context" . "layout" "wide" "size" "large" ) }}
	</section>

	{{ $pageTypeJS := resources.Get "/js/page-type/feature.js" }}
    {{ if hugo.IsProduction }}{{ $pageTypeJS = $pageTypeJS | resources.Minify | resources.Fingerprint }}{{ end }}
	<script id="feature-js" src="{{ $pageTypeJS.Permalink }}"></script>

	{{ $podcastsJS := resources.Get "/js/podcasts.js" }}
    {{ if hugo.IsProduction }}{{ $podcastsJS = $podcastsJS | resources.Minify | resources.Fingerprint }}{{ end }}
	<script src="{{ $podcastsJS.Permalink }}"></script>

    {{ $podcastPlayerJS := resources.Get "/js/podcast-player.js" }}
    {{ if hugo.IsProduction }}{{ $podcastPlayerJS = $podcastPlayerJS | resources.Minify | resources.Fingerprint }}{{ end }}
    <script src="{{ $podcastPlayerJS.Permalink }}"></script>
{{ end }}
